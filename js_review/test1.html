<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .active {
            background-color: red;
        }
    </style>
</head>

<body>
    <input id="txtWord"><button type="button" id="btnAdd">추가</button>
    <div id ="divWords">
        <p class="word">list</p>
        <p class="word">nice</p>
        <p class="word">good</p>
        <p class="word">very</p>
    </div>
    <script>
        // 태그를 클릭하면 배경색 변경
        // 방법[1]
        //let change = document.querySelectorAll(".word");

        // for(let i = 0; i < change.length; i++){
        //     change[i].addEventListener('click', function(){
        //     this.style.backgroundColor = "red";
        // })
        // }

        // 방법[2]
        function v_toggle(){
            let change = document.querySelectorAll(".word");
        change.forEach((ele) => {
            ele.addEventListener('click', function () {
                if(event.target.classList.contains("word")){
                    event.target.classList.toggle("active");
                }
            })
        })
        }
        v_toggle();


        // 추가 버튼 클릭시 input 태그 값을 p태그 만들어서 추가
        // 아이디가 있으면 바로 접근 가능 btnAdd
        let addBtn = document.querySelector("#btnAdd");
        addBtn.addEventListener('click', function () {
            let newTag = `<p class ="word">${txtWord.value}</P>`
                divWords.insertAdjacentHTML("beforeend", newTag);
                v_toggle();
        })

        txtWord.addEventListener("keypress", function () {
            if (event.keyCode == 13) {
                addBtn.click();
            }
        })


    </script>
</body>

</html>